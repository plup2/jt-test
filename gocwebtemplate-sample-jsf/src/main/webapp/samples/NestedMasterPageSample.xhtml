<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" template="NestedMasterPageTemplate.xhtml" xmlns:h="http://java.sun.com/jsf/html">
    <ui:define name="beaninit">
		<ui:param name="goctemplateclientbean" value="#{nestedchildpagesamplebean}" />		
	</ui:define>
    <ui:define name="leftContent">
        <h1>GoC Web Template Samples - Nested Master Page</h1>

	    <p>This sample demonstrates how a Nested Master Page could be implemented with the GoC JSF Web Template.</p>
	    
	    <p>Nested master pages can be used to customize the layout of the parent master pages' content section, provide a central location to add controls needed on each page of your site and/or common functionality.</p>
	
	    <p>The sample uses a Nested Master page to:</p>
	    <ul>
	        <li>Divide the 1 column GoC Web Template Master Page layout into 2 columns.  Note: This same approach could be used with the SideMenu Master Page of the Web template.</li>
	        <li>Display a Local Weather Widget in the right column of all pages.  By using a nested master page, we could include this widget centrally in the nested master page once instead of including it on every web page of the site.</li>
	        <li>The nested master page sets the <code class="wb-prettify">"dateModified"</code> value of the GoC Web Template Master Page.</li>
	        <li>The web page that will be using the nested master page will set the <code class="wb-prettify">"headerTitle"</code> value of the GoC Web Template Master page.</li>
	    </ul>
	     <h2>Steps to implement</h2>
	    
	    <ul>
	        <li>Download the latest "GoC JSF Web Template" eclipse project from GCPEDIA.</li>
	        <li>Under the <strong>"WebContent"</strong> directory, create a new .xhtml page (for this sample, it would be /samples/NestedMasterPageTemplate.xhtml)
	        	<ul>
	        		<li>This page will use one of the template file provided by the GoC JSF Web Template package</li>
	        		<li>The content of this nested master page will be defined in a <strong>content</strong> section defined by the GoC Master Template</li>
	        		<li>The nested master page should expose further content place holder for facelet page(s) that would need the nested master page feature</li>
	        	</ul>
	        </li>
	        <li>Under the <strong>"WebContent"</strong> directory, add another .xhtml page as the facelet content page (for this sample, it would be /samples/NestedMasterPageSample.xhtml)
	            <ul>
	                <li>This page will use the nested master page created earlier as the template</li>
	                <li>Modify the page to include the required content using the content place holder made available by the nested master page</li>
	            </ul>
	            </li>
	        <li>If necessary, create custom bean class to alter the default look &amp; feel of the facelet content page</li>
	        <li>The custom bean class should be initialized in the child content page using <strong>beaninit</strong> section made available by the GoC Master Template page</li>
	    </ul>
	    <div class="wb-prettify all-pre lang-vb linenums">
	        <h3>HTML Code Sample of the Nested Master Page</h3>
	        <pre>
&lt;ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://xmlns.jcp.org/jsf/facelets" template="/templates/master-template.xhtml" xmlns:h="http://java.sun.com/jsf/html"&gt;
    &lt;ui:define name="content"&gt;
    	&lt;div class="row"&gt;
	        &lt;!-- left column--&gt;
	        &lt;section class="col-md-8"&gt;
	            &lt;ui:insert name="leftContent" /&gt;
	        &lt;/section&gt;
	        &lt;!-- right column--&gt;
	        &lt;aside class="col-md-4 mrgn-tp-lg"&gt;
	            &lt;!-- include weather widget here so it is displayed on all pages--&gt;
	            &lt;div class="well"&gt;
	                &lt;section class="wb-feeds limit-1"&gt;
		                &lt;h3&gt;Ottawa Weather&lt;/h3&gt;
		                &lt;ul class="feeds-cont"&gt;
			                &lt;li&gt;
				                &lt;a href="http://weather.gc.ca/rss/city/on-118_e.xml" rel="external"&gt;Ottawa Ontario&lt;/a&gt;
			                &lt;/li&gt;
		                &lt;/ul&gt;
	                &lt;/section&gt;
	                &lt;!-- include a content place holder should the page require to add content to the right column below the weather widget--&gt;
	                &lt;ui:insert name="rightContent" /&gt;
	            &lt;/div&gt;
	        &lt;/aside&gt;
	    &lt;/div&gt;
    &lt;/ui:define&gt;
&lt;/ui:composition&gt;
	        </pre>
	    </div>
	    <div class="wb-prettify all-pre lang-vb linenums">
	        <h3>Code Sample of the Nested Bean Class</h3>
	        <pre>
import goc.webtemplate.component.jsf.DefaultTemplateCoreBean;

public class NestedMasterPageSample extends DefaultTemplateCoreBean {

    @Override
    public void onWebTemplateInitialize() {
//...    
        this.setDateModified(new java.util.Date());
//...        
    }
}
	        </pre>
	    </div>
	    <div class="wb-prettify all-pre lang-vb linenums">
	        <h3>HTML Code Sample of the Child Content Page</h3>
	        <pre>
&lt;ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://xmlns.jcp.org/jsf/facelets" template="NestedMasterPageTemplate.xhtml" xmlns:h="http://java.sun.com/jsf/html"&gt;
    &lt;ui:define name="beaninit"&gt;
		&lt;ui:param name="goctemplateclientbean" value="<h:outputText value="&amp;#35;&#123;nestedchildpagesamplebean&#125;" escape="false" />" /&gt;
	&lt;/ui:define&gt;
    &lt;ui:define name="leftContent"&gt;
    	&lt;h1&gt;Hello World!&lt;/h1&gt;
    &lt;/ui:define&gt;
&lt;/ui:composition&gt;
	        </pre>
	    </div>
	    <div class="wb-prettify all-pre lang-vb linenums">
	        <h3>Code Sample of the Child Content Page Custom Bean</h3>
	        <pre>
@Named("nestedchildpagesamplebean")
@RequestScoped
public class NestedChildPageSample extends NestedMasterPageSample {
    
    @Override 
    public void onWebTemplateInitialize() {
        super.onWebTemplateInitialize(); //call our parent first, we'll override the values we need

//...        
        this.setHeaderTitle("Nested Master Page Sample");
//...        
    }
}
	        </pre>
	    </div>
<ui:include src="_sampleslist.xhtml" />
    </ui:define>
</ui:composition>