<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" template="/templates/master-template.xhtml" xmlns:h="http://java.sun.com/jsf/html">
    <ui:define name="beaninit">
		<ui:param name="goctemplateclientbean" value="#{extendedbasepagesamplebean}" />		
	</ui:define>
    <ui:define name="content">
        <h1>GoC Web Template Samples - Extended BasePage</h1>
	    <p>This page provides an example on how to extend the <code class="wb-prettify">goc.webtemplate.component.jsf.BaseCoreBean</code> class provided by the Web Template.  The <code class="wb-prettify">BaseCoreBean</code> provided by the Web Template has very little functions and therefore applications may wish to extend its functionality. This will be useful should you require to add your own common logic that will be used by your applications' pages.</p>
	    <p>In this sample, we've created a new class <code class="wb-prettify">"ExtendedBasePageSample"</code>, which extend the BaseCoreBean class from the Web Template and it includes the following:</p>
	    <ul>
	        <li>A getter method <code class="wb-prettify">"getWeather"</code>, which returns a string.</li>
	        <li>A getter method <code class="wb-prettify">"getSessionId"</code>, which returns the ID of the user's session</li>
	        <li>Override the <code class="wb-prettify">"setHeaderTitle"</code> getter method of the WebTemplate.  This would set the page title for all pages of the application.</li>
	    </ul>
	    <p>This particular jsf page initializes the <code class="wb-prettify">"ExtendedBasePage"</code> class in the <strong>beaninit</strong> section that is made available by the web template, which allows it to have access to the methods of the <code class="wb-prettify">"ExtendedBasePage"</code> bean but also the methods of the Web Template <code class="wb-prettify">"BaseCoreBean"</code>.  In the sample the SessionID and GetWeather are called and the value is displayed on screen.</p>
	    <h2>Level of inheritance:</h2>
	    <ul>
	        <li>Your pages will inherit from your Extended Base Page</li>
	        <li>Your Extended Base Page will inherit from the <code class="wb-prettify">goc.webtemplate.component.jsf.BaseCoreBean</code> of the Web Template</li>
	        <li>The <code class="wb-prettify">goc.webtemplate.component.jsf.BaseCoreBean</code> of the Web Template inherits from <code class="wb-prettify">goc.webtemplate.component.AbstractCoreBean</code> class</li>
	    </ul>
	    <h2>Steps to Extend the Template BasePage</h2>
	    <ul>
	        <li>Create a new class</li>
	        <li>Inherit from <code class="wb-prettify">"goc.webtemplate.component.jsf.BaseCoreBean"</code> or <code class="wb-prettify">"goc.webtemplate.component.jsf.DefaultTemplateCoreBean"</code></li>
	        <li>Include the logic required for your application</li>
	    </ul>
	    <div class="wb-prettify all-pre lang-vb linenums">
        	<pre>
import javax.faces.context.FacesContext;
import javax.servlet.http.HttpServletRequest;
import javax.enterprise.context.RequestScoped;
import javax.inject.Named;

import goc.webtemplate.component.jsf.DefaultTemplateCoreBean;

@Named("extendedbasepagesamplebean")
@RequestScoped
public class ExtendedBasePageSample extends DefaultTemplateCoreBean {

    @Override
    public void onWebTemplateInitialize() {
        this.setHeaderTitle("Title set for every page!");
    }
    
    public String getWeather() { 
        return "Sunny"; 
    }
    
    public String getSessionId() {
        HttpServletRequest req = (HttpServletRequest)FacesContext.getCurrentInstance().getExternalContext().getRequest();
        return req.getSession().getId();
    }
}
        	</pre>
    	</div>
	    <h2>Steps when adding your JSF Pages</h2>
	    <ul>
	        <li>include the custom bean class in the <strong>beaninit</strong> section that is made available the web template, <strong>always</strong> under the name <strong>clientbean</strong>.</li>
	    </ul>
	    <div class="wb-prettify all-pre lang-vb linenums">
        	<pre>
&lt;ui:define name="beaninit"&gt;
	&lt;ui:param name="goctemplateclientbean" value="<h:outputText value="&amp;#35;&#123;extendedbasepagesamplebean&#125;" escape="false" />" /&gt;		
&lt;/ui:define&gt;
        	</pre>
    	</div>    	
	    <h2>Values from the "ExtendedBasePage"</h2>
	    <div>Session ID: <strong>#{goctemplateclientbean.sessionId}</strong></div>
	    <div>Today's Weather: <strong>#{goctemplateclientbean.weather}</strong></div>
<ui:include src="_sampleslist.xhtml" />
    </ui:define>
</ui:composition>